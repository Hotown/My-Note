# Java 分层设计

## J2EE分层设计

系统层次从上到下依次为：

`表现层`: 客户端的展示

`服务层`: 服务层，直接为客户端提供服务或功能

`领域层`: 系统内的领域活动

`DAO层`: 数据访问对象，通过领域实体对象来操作数据库

### 指导原则

1. 上层依赖下层，依赖关系不跨层
2. 同一层的方法之间不能互相调用，除了表现层
3. 从服务层出发，分析系统所需要提供的功能，确定Service接口中的方法
4. 将`实体划分为领域模型`，系统的核心设计为`领域模型`的设计，在此基础上设计DAO，并将活动暴露给服务层。
5. 接口职责范围明确有界
    
### 设计建议

`一个领域活动会聚和对应一个或一组DAO`，从而完成一个领域活动，`一个服务可能包含两个领域活动`，事务的控制放到Service层

#### 领域模型驱动设计

针对系统的模型进行建模，`上层直接是Service`，`Service下面是领域活动层`Activity，`去掉了DAO层`

控制Service的数量，从Service层往下，接口数量逐层增加，一个模块的服务尽量集中到一个Service



